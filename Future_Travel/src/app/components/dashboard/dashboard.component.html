<div class="bg-red top-0 sticky w-full z-50"><app-navbar></app-navbar></div>

<div class="text-center my-5 text-3xl text-black">
  <h1 class="font-bold">{{ city }}</h1>
</div>
<div
  class="mx-5 mb-3 px-1 py-5 h-[45rem] max-w-[600px] border border-solid rounded-lg"
>
  <div class="h-5/6 mx-auto">
    <h2 class="text-center text-sm my-4">
      Arrivals from Italian tourists in {{ this.city }} in the year
      {{ this.years[0] }}
    </h2>
    <div class="flex justify-center items-end gap-5">
      <div class="flex flex-col">
        <label class="mb-2" for="year">Year</label>
        <select
          class="bg-lightgray border border-gray-300 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2"
          name="year"
          #arivalsYearSelect
        >
          <option *ngFor="let year of this.years" [value]="year">
            {{ year }}
          </option>
        </select>
      </div>
      <div class="flex flex-col">
        <label class="mb-2" for="residence">Residence</label>
        <select
          class="bg-lightgray border border-gray-300 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2"
          name="residence"
          #arrivalsResidence
        >
          <option selected value="IT">Italy</option>
          <option value="WRL_X_ITA">Other Countries</option>
          <option value="ALL">All</option>
        </select>
      </div>
      <div class="flex flex-col">
        <label class="mb-2" for="residence">Solution</label>
        <select
          class="bg-lightgray border border-gray-300 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2"
          name="Solution"
          #arrivalsSolution
        >
          <option selected value="HOTELLIKE">Hotel</option>
          <option value="OTHER">Other</option>
        </select>
      </div>
      <div>
        <button
          (click)="
            this.updateArrivals(
              arivalsYearSelect.value,
              arrivalsResidence.value,
              arrivalsSolution.value
            )
          "
          class="bg-lightgray border border-red text-red text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2 hover:bg-red hover:text-white transition-all duration-300"
        >
          Submit
        </button>
      </div>
    </div>
    <canvas
      baseChart
      class="chart mt-3 px-2"
      [data]="barChartData"
      [options]="barChartOptions"
      [plugins]="barChartPlugins"
      [type]="barChartType"
    >
    </canvas>
  </div>
</div>

<div class="mx-5 px-1 h-[40rem] max-w-[600px] border border-solid rounded-lg">
  <h2 class="text-center text-sm my-2">
    Attendance from Italian tourists in {{ this.city }} in the year
    {{ this.year }} who reside in a {{ this.solutionChoice }}
  </h2>
  <canvas
    baseChart
    class="chart2 w-full h-full mb-10 px-2"
    [data]="barChartData2"
    [options]="barChartOptions"
    [plugins]="barChartPlugins"
    [type]="barChartType"
  >
  </canvas>
</div>
